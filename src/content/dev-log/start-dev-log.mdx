---
title: 100설기 기술 블로그 제작기
description: 기술 블로그를 직접 만들고는 싶지만 귀차니즘을 극복하려는 노력
date: "2023-10-26"
author: 핑크라떼
---

## Intro

안녕하세요, FE-CodeCrafters의 핑크라떼입니다. 이번 로그에서는 100설기 기술 블로그 제작을 시작하게 된 이유와 구현 방식에 대해서 간략하게 설명하고자 합니다.

저희 팀은 같은 회사에서 같은 팀으로 일해왔는데, 프론트엔드 개발을 어떻게 하면 더 잘 할 수 있을까 고민하다가
간단한 사이드 프로젝트를 시작하기로 결심했고, 100설기 프로젝트를 시작했습니다.

프로젝트를 만드는 것도 좋지만, 왜 이렇게 만들었고 기술적으로 어디가 유의미했는지 좀 더 적극적으로 알리고자 블로그를 시작했습니다.

블로그를 구성하는 기술 스텍은 무엇이고 왜 선정했는지 먼저 알아보겠습니다.

100설기 자체가 웹 기반 풀스텍 앱이라, 블로그를 따로 구성하는 것 보다 100설기 자체에 배포하는게
자연스럽다고 판단하고 블로그 구축 기술에 대해서 고민을 시작했습니다.

## 기술 선택의 이유

공학도에게 유명한 격언이 있죠. "Don't reinvent the wheel." (바퀴를 재발명하지 마라.)
즉, 이미 있는 기술을 처음부터 개발할 필요가 없다는 격언입니다.
웹 개발은 이미 블로그 글만 써두면 알아서 인터넷에 배포할 수 있게 고도로 발전되어 왔습니다.
그래서 저는 "블로그를 어떻게 관리할까?" 보다 "어떻게 하면 더 쉽게 블로그를 관리할 수 있을까?"에 집중했습니다.

100설기를 Next.js 13으르 기반으로 배포했기 때문에, 자연스럽게 Next.js ecosystem 내에서 고민을 시작했습니다.
100설기 기술 블로그는 아래 요구사항을 만족해야 했습니다.

- Next.js App Router에서 원활하게 사용 가능
- Markdown 데이터로 정적 배포 (JAM Stack, SSG)
- 콘텐츠 작성에 집중할 수 있게 코드 작성량이 많지 않을 것
- 100설기의 디자인 기조 유지

요구사항에 맞는 기술을 찾기 위해 꽤 오랜 시간 고민을 하게 되었는데요,
독자 여러분은 초기 세팅을 할 때 어디서부터 검색을 시작하시는지 모르겠습니다. 저는 프레임워크가 정해져 있는 경우, 공식문서와 GitHub를 먼저 참고합니다.
특히 [Next.js GitHub](https://github.com/vercel/next.js)의 example 디렉터리를 보면 정말 많은 예시 코드를 찾을 수 있습니다.
참고로, 잘 제작한 오픈소스에는 example 디렉터리가 꼭 있기 때문에 공식문서를 보고 바로 이해가 어려우면 사례 위주로 참고를 할 수 있다는 점도 공유합니다.

### Option 1: Next.js blog-starter

[Next.js blog-starter](https://github.com/vercel/next.js/tree/canary/examples/blog-starter)를 먼저 봤는데, 요구사항과 맞지 않는 부분이 꽤 많았습니다.

- Next.js App Router에서 원활하게 사용 가능 ❎

App Router가 아닌 Page Router로 예시 코드가 구성되어 있었습니다. 쉽게 13으로 버전업 할 수 있어보이긴 했지만.. 빠른 구성이 목표였기에 패스!

- Markdown 데이터로 정적 배포 (JAM Stack, SSG) ✅

`_posts`에 마크다운만 잘 넣으면 화면으로 쉽게 변환되는 구조라 요구사항은 만족합니다.

- 콘텐츠 작성에 집중할 수 있게 코드 작성량이 많지 않을 것 🤔 

기존의 테마를 그대로 사용한다면 새롭게 작성해야 하는 코드가 많지 않았을겁니다.
다만, 이번 기술 블로그는 100설기와 어느정도 디자인 기조를 공유해야 했기에 CSS를 직접 만져야 했어서 썩 만족스럽진 않았습니다.

- 100설기의 디자인 기조 유지 🤔 

기본 테마를 열어보면 뭔가 한글과 한국인에게 어울리지 않는다는 느낌을 받았습니다. (디자인알못이라 표현이 추상적인 점 .. 🙇)
프론트엔드 개발을 하게 되면 자연스럽게 JavaScript ecosystem을 자주 사용하게 되는데, 이 생태계가 아무래도 미국 IT 기업 위주로 구성되어 있어서
이런 일을 마주하면 문화적인 차이를 많이 느끼게 됩니다. 멋진데 뭔가 어색한 그런 느낌..

### Option 2: CMS + Next.js

간단한 블로그 제작을 위해서 Headless CMS를 많이들 사용합니다. Headless CMS는 (추가 작성 필요)

CMS는 프론트엔드 개발보다 방대한 콘텐츠를 쉽게 관리하는게 초점이 맞춰져 있습니다.
홈페이지 빌더와 붙어있는 경우가 많아, 코드로 직접 개발하면 되는 프론트엔드 개발자들에게 필요가 없는 기능도 많이 붙어있습니다.
조금 사용하다가 보면 유료인 경유도 많고 개인적으로 개발자에게 가장 적합한 콘텐츠 관리 시스템은 git이라고 생각하기도 해서 따로 콘텐츠 관리가 필요하진 않다고 판단했습니다.

### Option 3: contentlayer + Next.js ✅

결론적으로 contentlayer라는 오픈소스를 사용해서 Markdown 파일과 React 컴포넌트를 연결하게 되었습니다. 요구사항 중심으로 왜 선택하게 되었는지 알아보겠습니다.

- Next.js App Router에서 원활하게 사용 가능 ✅

[next-contentlayer Github](https://github.com/shadcn/next-contentlayer)라는 좋은 예시 코드가 App Router로 작성되어 있었습니다.
이 코드의 핵심 기여자가 이것 외에도 Next.js 생태계에 기여한 것을 많이 볼 수 있었어서, 그 또한 만족했습니다.

- Markdown 데이터로 정적 배포 (JAM Stack, SSG) ✅
- 콘텐츠 작성에 집중할 수 있게 코드 작성량이 많지 않을 것 ✅

```
Contentlayer is the glue between your content and your code.
```

제가 원하던 기능이 공식문서 소개에 딱 적혀있었고, 실제 사용해본 결과 Markdown과 React 코드와의 연결이 상당히 쉬웠습니다.
Markdown 파일의 속성과 문법을 잘 해석하여 `.contentlayer` 디렉터리에 렌더링 코드를 아예 생성해버립니다.
`import { allDevLogs } from "contentlayer/generated";` 코드 한 줄이면 Markdown 정보를 쉽게 import할 수 있고,
마크다운 내용도 `useMDXComponent`라는 훅을 사용하면 마크다운을 HTML로 쉽게 바꿔줍니다.

- 100설기의 디자인 기조 유지 🤔 

`next-contentlayer`는 `@tailwindcss/typography`를 사용하고 있는데요, 명칭에서 알 수 있듯이 테일윈드에서 공식적으로 지원하는 타이포 CSS 세트입니다.
`prose` 클래스를 지정해주면, h1, h2, p 등 블로그에서 자주 사용하는 HTML 요소에 적절하게 CSS를 적용합니다. 무난하고 깔끔합니다.

```jsx
<article class="prose lg:prose-xl">
  {{ markdown }}
</article>
```

100설기의 배경과도 잘 어울리고, 개발과 어울리는 심플한 디자인이라 좋았습니다. 
물론, 100설기는 다소 귀여운 면이 있어 다소 진지한 이 디자인을 계속 유지할지는 고민이라 🤔로 지정해놨습니다.

- 그 외 장점

라이브러리답게 단순히 하나의 역할에 집중하는 점이 좋았습니다. 유료 CMS는 (저희에겐) 필요없는 기능을 너무 많이 제공해서 아쉬웠고,
JAM Stack용 툴(Gatsby, Jekyll...)은 아무래도 맞춰진 테마를 그대로 사용해야 하다보니 같이 쓰기 망설여졌는데,
Next.js로 개발한 웹앱에 슬쩍 Markdown만 올려놓기 좋았습니다. 가서 들여다보면 Type Safe를 꽤 신경쓴 모습을 볼 수 있습니다.

## contentlayer의 단점

지금까지 글을 읽으셨다면, 정말 편리한 오픈소스고 꼭 써야할 것 처럼 보입니다. 그래서 제가 찾은 단점도 공유해봅니다.

최근 IT불황이라는 이야기 많이 들어보셨을텐데요, `contentlayer` 개발진도 여기서 자유롭지 못했던 모양입니다.
기존에 이 오픈소스를 후원하던 회사가 다른 회사에 인수되면서 후원금이 줄어 현재 개발에 집중할 수 없다는 말을 남긴 것을 봤습니다.
커밋과 코드량이 상당한 프로젝트가 후원이 정지되어 진척이 없는 것을 보니 안타깝기도 합니다.
개인적으로 참 마음에 들었던 오픈소스라서 향후 좀 더 빠르게 발전하기를 기원해봅니다.

또한 Markdown을 React로 빠르게 옮기기 위해서 contentlayer만 사용할 필요도 없습니다.
특히 위에서 언급한 것 처럼 contentlayer의 향후 개발 지속 여부가 불투명한 상황에서 저도 이걸 적용하는게 좋을지 아닐지 고민을 많이 했었습니다.
혹시 이 글을 읽으면서 비슷한 툴을 고려하고 계신다면 [mdx-bundler](https://github.com/kentcdodds/mdx-bundler)나 [next-mdx-remote](https://github.com/hashicorp/next-mdx-remote)도 고려해보세요.
`contentlayer`와 비교를 많이 하더군요. 
Vue에는 `@nuxt/content`가 비슷한 역할을 한다고 합니다. [구글링하다 찾은 레딧 쓰레드](https://www.reddit.com/r/nextjs/comments/qy14ow/does_anything_like_nuxtcontent_exist_for_next/)에서 읽은 내용이라 정확하지 않을 수 있습니다 ^^;

## 잡담

이렇게 블로그로 작성해두고 나니, 내가 왜 이 라이브러리를 선택했는지 생각도 구체화되고 재밌는 기록으로 남을 것 같아 뿌듯합니다.
마음은 "소프트웨어 공학" 전공서나 실리콘벨리에서 하고 있다는 여러 멋진 틀에 기반해서 착착착 비교도 깔끔하게 하고싶지만,
이렇게라도 기록을 남기는 버릇을 들여야 나도 언젠간 "환상속에만 존재하는 멋진 선배 테크 리드"가 되어 "멋진" 기술 선정을 할 수 있지 않을까? 라는 위안을 해봅니다.
이전에 저는 기술적인 선택을 할 때, 빠르게 선택하고 바로 Get Coding 하던 시절이 있었는데, 좀 후회가 많이 되네요.
앞으로는 100설기 개발에 직접 연관된 내용으로 찾아뵙겠습니다.
